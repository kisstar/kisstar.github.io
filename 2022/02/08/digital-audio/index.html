<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数字音频基础 | Kisstar&#39;s 博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.f32605b3.css" as="style"><link rel="preload" href="/assets/js/app.6a51abd1.js" as="script"><link rel="preload" href="/assets/js/4.43d8fca8.js" as="script"><link rel="preload" href="/assets/js/9.f69ac59a.js" as="script"><link rel="prefetch" href="/assets/js/10.96673c1a.js"><link rel="prefetch" href="/assets/js/11.2634935f.js"><link rel="prefetch" href="/assets/js/12.a3b565e8.js"><link rel="prefetch" href="/assets/js/13.09ee1651.js"><link rel="prefetch" href="/assets/js/14.dd24b1d1.js"><link rel="prefetch" href="/assets/js/15.fff8f871.js"><link rel="prefetch" href="/assets/js/16.ce04aeae.js"><link rel="prefetch" href="/assets/js/17.b6f10ef6.js"><link rel="prefetch" href="/assets/js/18.3368051a.js"><link rel="prefetch" href="/assets/js/19.c8088a68.js"><link rel="prefetch" href="/assets/js/20.fca9b7c9.js"><link rel="prefetch" href="/assets/js/21.042e1579.js"><link rel="prefetch" href="/assets/js/22.e6edcb4e.js"><link rel="prefetch" href="/assets/js/23.47672b1a.js"><link rel="prefetch" href="/assets/js/24.de31fe31.js"><link rel="prefetch" href="/assets/js/25.0964072c.js"><link rel="prefetch" href="/assets/js/26.953f1215.js"><link rel="prefetch" href="/assets/js/27.da5a805b.js"><link rel="prefetch" href="/assets/js/28.53744cdb.js"><link rel="prefetch" href="/assets/js/29.34eae1b3.js"><link rel="prefetch" href="/assets/js/3.a66f99e0.js"><link rel="prefetch" href="/assets/js/30.8b5283cd.js"><link rel="prefetch" href="/assets/js/31.be241e80.js"><link rel="prefetch" href="/assets/js/32.bc8c8488.js"><link rel="prefetch" href="/assets/js/33.803ad1f6.js"><link rel="prefetch" href="/assets/js/34.c4e59e19.js"><link rel="prefetch" href="/assets/js/5.3a4026c1.js"><link rel="prefetch" href="/assets/js/6.fb807c29.js"><link rel="prefetch" href="/assets/js/7.128e49fd.js"><link rel="prefetch" href="/assets/js/8.9c1767df.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.d81a3ce9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f32605b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container post"><div class="theme-extreme"><header class="navbar fixed"><a href="/" class="navbar-brand"><img src="/assets/img/logo.46de8c82.png" alt="Kisstar's 博客" class="logo"> <span>Kisstar's 博客</span></a> <button type="button" class="navbar-toggler"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48" height="36"><path d="M128 469.333333m40.533333 0l686.933334 0q40.533333 0 40.533333 40.533334l0 4.266666q0 40.533333-40.533333 40.533334l-686.933334 0q-40.533333 0-40.533333-40.533334l0-4.266666q0-40.533333 40.533333-40.533334Z" fill="#D0D0D0"></path> <path d="M128 682.666667m40.533333 0l686.933334 0q40.533333 0 40.533333 40.533333l0 4.266667q0 40.533333-40.533333 40.533333l-686.933334 0q-40.533333 0-40.533333-40.533333l0-4.266667q0-40.533333 40.533333-40.533333Z" fill="#D0D0D0"></path> <path d="M128 256m40.533333 0l686.933334 0q40.533333 0 40.533333 40.533333l0 4.266667q0 40.533333-40.533333 40.533333l-686.933334 0q-40.533333 0-40.533333-40.533333l0-4.266667q0-40.533333 40.533333-40.533333Z" fill="#D0D0D0"></path></svg></button> <div class="navbar-collapse"><ul class="navbar-nav"><li class="navbar-item"><!----></li><li class="navbar-item"><!----></li><li class="navbar-item"><!----></li><li class="navbar-item"><!----></li><li class="navbar-item"><!----></li></ul></div></header> <main class="theme-content"><article class="post-body"><div class="post-meta"><h1>数字音频基础</h1> <div class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span>Kisstar</span> <span> 在北京</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><circle cx="12" cy="12" r="10"></circle> <polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate datetime="2022-02-08T00:00:00.000Z">
      2022-02-08
    </time></div> <ul class="post-meta-tags"><li class="post-tag"><a href="/tag/Audio"><span>Audio</span></a></li></ul></div> <div class="content__default"><p><img src="/images/audio/digital-audio.jpeg" alt="Digital Audio" style="width:100%;height:350px;box-shadow:rgba(0, 0, 0, 0.1) -4px 9px 25px -6px;"></p> <p>数字音频是一种利用数字化手段对声音进行录制、存放、编辑、压缩或播放的技术，它是随着数字信号处理技术、计算机技术、多媒体技术的发展而形成的一种全新的声音处理手段。</p> <h2 id="数字化"><a href="#数字化" class="header-anchor">#</a> 数字化</h2> <p>我们日常生活中听到的声音是一种模拟信号（英语：analog signal，是指在时域上数学形式为连续函数的信号），它不仅在时间上连续，而且在幅度上也连续，我们称之为模拟音频。</p> <p>计算机数据的存储是以 0、1 的形式存取的，那么数字音频就是首先将音频文件转化，接着再将这些电平信号转化成二进制数据保存。</p> <img src="/images/audio/digital-audio/analog-signal-to-digital-signal.jpeg" alt="AnalogSignal2DigitalSignal"> <p>将模拟音频转换为数字音频的过程采用了模数转换（A/D）技术。所谓模数转换就是将模拟信号转化为数字信号，转换过程包括采样、量化和编码三个步骤。</p> <h3 id="采样"><a href="#采样" class="header-anchor">#</a> 采样</h3> <p>采样是指用每隔一定时间的信号样值序列来代替原来在时间上连续的信号，也就是在时间上将模拟信号离散化。</p> <p>如下是同一波形的两种采样率对比，可以看到低采样率的 A 采样波形严重失真，而高采样率的 B 则几乎完全重现原始波形：</p> <img src="/images/audio/digital-audio/sampling.png" alt="Sampling"> <p>根据奈奎斯特定理（也称为采样定理），按比声音最高频率高 2 倍以上的频率对声音进行采样(也称为 AD 转换)。</p> <p>对于高质量的音频信号，其频率范围（人耳能够听到的频率范围）是 20Hz~20kHz，所以采样频率一般为 44.1kHz，而所谓的 44.1kHz 就是代表 1 秒会采样 44100 次。</p> <p>以下是数字音频中一些常用的采样率：</p> <table><thead><tr><th style="text-align:left;">采样率</th> <th style="text-align:left;">品质级别</th> <th style="text-align:left;">频率范围</th></tr></thead> <tbody><tr><td style="text-align:left;">11,025 Hz</td> <td style="text-align:left;">较差的 AM 电台（低端多媒体）</td> <td style="text-align:left;">0–5,512 Hz</td></tr> <tr><td style="text-align:left;">22,050 Hz</td> <td style="text-align:left;">接近 FM 电台（高端多媒体）</td> <td style="text-align:left;">0–11,025 Hz</td></tr> <tr><td style="text-align:left;">32,000 Hz</td> <td style="text-align:left;">好于 FM 电台（标准广播采样率</td> <td style="text-align:left;">） 0–16,000 Hz</td></tr> <tr><td style="text-align:left;">44,100 Hz</td> <td style="text-align:left;">CD</td> <td style="text-align:left;">0–22,050 Hz</td></tr> <tr><td style="text-align:left;">48,000 Hz</td> <td style="text-align:left;">标准 DVD</td> <td style="text-align:left;">0–24,000 Hz</td></tr> <tr><td style="text-align:left;">96,000 Hz</td> <td style="text-align:left;">蓝光 DVD</td> <td style="text-align:left;">0–48,000 Hz</td></tr></tbody></table> <h3 id="量化"><a href="#量化" class="header-anchor">#</a> 量化</h3> <p>那么，具体的每个采样又该如何表示呢？这就涉及到了量化。</p> <p>量化是指在幅度轴上对信号进行数字化，比如用 16 比特 的二进制信号来表示声音的一个采样，而 16 比特（一个 short）所表示的 范围是 <code>[-32768，32767]</code>，共有 65536 个可能取值，因此最终模拟的音频 信号在幅度上也分为了 65536 层。</p> <img src="/images/audio/digital-audio/quantification.gif" alt="Quantification"> <p>每次采样存储着多少比特（英语：bit）的信息成为音频位深度，其数值数值直接对应着每次采样的分辨率。</p> <p>位深度决定动态范围。采样声波时，为每个采样指定最接近原始声波振幅的振幅值。较高的位深度可提供更多可能的振幅值，产生更大的动态范围、更低的噪声基准和更高的保真度。</p> <p>以下是数字音频中一些常用的位深度：</p> <table><thead><tr><th style="text-align:left;">位深度</th> <th style="text-align:left;">品质级别</th> <th style="text-align:left;">振幅值</th> <th style="text-align:left;">动态范围</th></tr></thead> <tbody><tr><td style="text-align:left;">8 位</td> <td style="text-align:left;">电话</td> <td style="text-align:left;">256</td> <td style="text-align:left;">48 dB</td></tr> <tr><td style="text-align:left;">16 位</td> <td style="text-align:left;">音频 CD</td> <td style="text-align:left;">65,536</td> <td style="text-align:left;">96 dB</td></tr> <tr><td style="text-align:left;">24 位</td> <td style="text-align:left;">音频 DVD</td> <td style="text-align:left;">16,777,216</td> <td style="text-align:left;">144 dB</td></tr> <tr><td style="text-align:left;">32 位</td> <td style="text-align:left;">最佳</td> <td style="text-align:left;">4,294,967,296</td> <td style="text-align:left;">192 dB</td></tr></tbody></table> <h3 id="编码"><a href="#编码" class="header-anchor">#</a> 编码</h3> <p>那么，这么多的采样该如何进行存储呢？这就涉及到了编码。</p> <p>所谓编码，就是按照一定的格式记录采样和量化后的数字数据，比如顺序存储或压缩存储，等等。根据编码方式的不同，音频编码技术分为三种：波形编码、参数编码和混合编码。</p> <table><thead><tr><th style="text-align:left;">编码</th> <th style="text-align:left;">优点</th> <th style="text-align:left;">缺点</th></tr></thead> <tbody><tr><td style="text-align:left;">波形编码</td> <td style="text-align:left;">方法简单、易于实现、适应能力强并且语音质量好。</td> <td style="text-align:left;">压缩比相对较低，导致较高的编码率。</td></tr> <tr><td style="text-align:left;">参数编码</td> <td style="text-align:left;">保密性很好，一直被应用在军事上。</td> <td style="text-align:left;">失真会比较大。</td></tr> <tr><td style="text-align:left;">混合编码</td> <td style="text-align:left;">结合了前两者，克服了弱点，具备高质量和低码率。</td> <td style="text-align:left;"></td></tr></tbody></table> <p>编码涉及到各种各样的格式，通常所说的音频的裸数据格式就是脉冲编码调制数据。</p> <h2 id="pcm"><a href="#pcm" class="header-anchor">#</a> PCM</h2> <p>脉冲编码调制（Pulse Code Modulation，PCM）是一种模拟信号的数字化方法。PCM 将信号的强度依照同样的间距分成数段，然后用独特的数字记号（通常是二进制）来量化。</p> <p>描述一段 PCM 数据一般需要以下几个概念：量化格式（sampleFormat，也称位深度）、采样率（sampleRate）、声道数（channel）。</p> <h3 id="基础概念"><a href="#基础概念" class="header-anchor">#</a> 基础概念</h3> <p><strong>采样频率</strong>：指每秒钟取得声音样本的次数。采样频率越高，声音的质量也就越好，声音的还原也就越真实，但同时它占的资源比较多。</p> <p><strong>位深度</strong>：表示一个样本存储所占用的二进制位数。计算机中音频的量化深度一般为 4、8、16、32 位（bit）等。</p> <p>采样位数的大小影响声音的质量，采样位数越多，量化后的波形越接近原始波形，声音的质量越高，而需要的存储空间也越多；位数越少，声音的质量越低，需要的存储空间越少。</p> <p><strong>声道数</strong>：声道是指声音在录制或播放时在不同空间位置采集或回放的相互独立的音频信号，所以声道数也就是声音录制时的音源数量或回放时相应的扬声器数量。</p> <p>对于声音格式，还有一个概念用来描述它的大小，称为数据比特率，即 1 秒时间内的比特数目，它用于衡量音频数据单位时间内的容量大小。</p> <p>以 CD 的音质为例，量化格式为 16 比特，采样率为 44100，声道数为 2，这些信息就描述了 CD 的音质。其数据比特率计算如下所示：</p> <p><mjx-container jax="SVG" class="MathJax" style="direction:ltr;"><svg xmlns="http://www.w3.org/2000/svg" width="24.888ex" height="1.717ex" role="img" focusable="false" viewBox="0 -677 11000.4 759" style="overflow:visible;min-height:1px;min-width:1px;vertical-align:-0.186ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" transform="translate(500,0)" style="stroke-width:3;"></path><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" transform="translate(1000,0)" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1500,0)" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(2000,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2722.2,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(3444.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(500,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(4666.7,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(5388.9,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(6166.7,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(7222.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" transform="translate(500,0)" style="stroke-width:3;"></path><path data-c="37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z" transform="translate(1000,0)" style="stroke-width:3;"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(1500,0)" style="stroke-width:3;"></path><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(2000,0)" style="stroke-width:3;"></path><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" transform="translate(2278,0)" style="stroke-width:3;"></path><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" transform="translate(2778,0)" style="stroke-width:3;"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(3278,0)" style="stroke-width:3;"></path></g></g></g></svg></mjx-container>kbps</p> <h3 id="数据存储"><a href="#数据存储" class="header-anchor">#</a> 数据存储</h3> <p>PCM 文件没有头部信息，全部是采样量化后的未压缩音频数据。</p> <p>如果是单声道音频，采样数据按照时间的先后顺序依次存储，有的时候也会采用 LRLRLR 方式存储，只是另一个声道的数据为 0。</p> <p>如果是双声道音频，则按照 LRLRLR 方式存储，每个采样点的存储方式还与字节序有关。大端字节序如下图所示：</p> <img src="/images/audio/digital-audio/data-storage.png" alt="PCM Data Storage"> <p>关于字节序，可查看<a href="https://www.ruanyifeng.com/blog/2016/11/byte-order.html" target="_blank" rel="noopener noreferrer">理解字节序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>不同的驱动程序对于多声道数据的排列方式可能稍有区别，下面是常用的声道排列地图：</p> <div class="language-plainte extra-class"><pre class="language-text"><code>2:  FL FR                     (stereo)
3:  FL FR LFE                 (2.1 surround)
4:  FL FR BL BR               (quad)
5:  FL FR FC BL BR            (quad + center)
6:  FL FR FC LFE SL SR        (5.1 surround - last two can also be BL BR)
7:  FL FR FC LFE BC SL SR     (6.1 surround)
8:  FL FR FC LFE BL BR SL SR  (7.1 surround)
</code></pre></div><h2 id="压缩编码"><a href="#压缩编码" class="header-anchor">#</a> 压缩编码</h2> <p>采用 PCM 编码可以高效的还原音频数据，但是若要在网络中实时在线传播的话，那么这个数据量可能就太大了，所以必须对其进行压缩编码。</p> <p>压缩编码的原理实际上是压缩掉冗余信号，冗余信号是指不能被人耳感知到的信号，包含人耳听觉范围之外的音频信号以及被掩蔽掉的音频信号等。</p> <p>压缩算法包括有损压缩和无损压缩。无损压缩是指解压后的数据可以完全复原。在常用的压缩格式中，用得较多的是有损压缩，有损压缩是指解压后的数据不能完全复原，会丢失一部分信息，压缩比越小，丢失的信息就越多，信号还原后的失真就会越大。</p> <p>根据不同的应用场景(包括存储设备、传输网络环境、播放设备 等)，可以选用不同的压缩编码算法，如 PCM、WAV、AAC、MP3、 Ogg 等。</p> <table><thead><tr><th style="text-align:left;">编码格式</th> <th style="text-align:left;">特点</th> <th style="text-align:left;">适用场合</th></tr></thead> <tbody><tr><td style="text-align:left;">WAV 编码</td> <td style="text-align:left;">音质非常好，大量软件都支持。</td> <td style="text-align:left;">多媒体开发的中间文件、保存音乐和音效素材。</td></tr> <tr><td style="text-align:left;">MP3 编码</td> <td style="text-align:left;">压缩比比较高，大量软件 和硬件都支持，兼容性好。</td> <td style="text-align:left;">高比特率下对兼容性有要求的音乐欣赏。</td></tr> <tr><td style="text-align:left;">AAC 编码</td> <td style="text-align:left;">在小于 128Kbit/s 的码率下表现优异。</td> <td style="text-align:left;">128Kbit/s 以下的音频编码，多用于视频中音频轨的编 码。</td></tr> <tr><td style="text-align:left;">Ogg 编码</td> <td style="text-align:left;">高中低码 率下均有良好的表现，兼容性不够好，流媒体特性不支持。</td> <td style="text-align:left;">语音聊天的音频消息场景。</td></tr></tbody></table> <h2 id="格式"><a href="#格式" class="header-anchor">#</a> 格式</h2> <p>通常，一种文件格式对应一种音频编码。但是也有例外，比如 .caf 的文件格式就能包含 MP3、LPCM 和其他格式编码的音频数据，AAC 编码格式对应的文件的扩展名就有 .aac、 .mp4 和 .m4a。</p> <p>文件格式与音频编码的名称有时相同，比如平时我们经常说的 MP3 既是文件格式，又是编码格式；也有时不同。而且有时它们的称呼也不规范，比如为了方便人们一般称 Monkey's Audio 音频编码格式为 ape 编码。</p> <p>常用的音频编码格式与文件格式的对应关系总结如下：</p> <img src="/images/audio/digital-audio/audio-format.png" alt="Audio Format"> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>在模拟信号系统中，声音由空气中传递的声波透过转换器（例如麦克风）转存成电流信号的电波。而重现声音则是相反的过程，透过放大器将电子信号转成物理声波，再借由扩音器播放。</p> <img height="450" src="/images/audio/digital-audio/audio-data-conversion.png" alt="Audio Data Conversion"> <p>经过转存、编码、复制以及放大或许会丧失声音的真实度，但仍然能够保持与其基音、声音特色相似的波形。模拟信号容易受到噪音及变形的影响，相关器材电路所产生的电流更是无可避免。在信号较为纯净的录音里，整个过程里仍然存有许多噪音及有损。</p> <p>数字声音和一般磁带、广播、电视中的声音就存储播放方式而言有着本质区别。当音频数字化后，有损及噪音只在数字及模拟间转换时产生。</p> <img src="/images/audio/digital-audio/pcm-codec.jpeg" alt="PCM Codec"> <p>相比而言，它具有存储方便、存储成本低廉、存储和传输的过程中没有声音的失真、编辑和处理非常方便等特点。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://helpx.adobe.com/cn/audition/using/digitizing-audio.html" target="_blank" rel="noopener noreferrer">数字化音频<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.codenong.com/cs107136250/" target="_blank" rel="noopener noreferrer">音视频学习- PCM 格式介绍 | 码农家园<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/212318683" target="_blank" rel="noopener noreferrer">数字音频基础 - 从 PCM 说起 - 知乎<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://book.douban.com/subject/30124646/" target="_blank" rel="noopener noreferrer">《音视频开发进阶指南》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/kisstar/blog/edit/master/packages/docs/posts/posts/audio/2022-02-08-digital-audio.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">2022-02-08 20:31:24</span></div></div> <div class="divider horizontal"></div> <div class="page-nav"><div class="prev"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path d="M62.56 511.904L485.952 88.256a48.64 48.64 0 0 1 68.736 68.736L199.616 512.064l356.8 356.8A48.64 48.64 0 0 1 487.68 937.6l-39.744-39.744 0.256-0.256L62.528 511.936z m388.8 0L874.752 88.256a48.64 48.64 0 0 1 68.736 68.736L588.416 512.064l356.8 356.8A48.64 48.64 0 0 1 876.48 937.6l-39.776-39.744 0.288-0.256-385.664-385.664z" fill="currentColor"></path></svg> <!----></div> <div class="next"><!----> <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path d="M948.064 513.056L536.064 925.312a47.296 47.296 0 0 1-66.88-66.88l345.504-345.504L467.52 165.76a47.296 47.296 0 0 1 66.88-66.88l38.688 38.688-0.256 0.256 375.264 375.264m-378.336-0.032L157.76 925.312a47.296 47.296 0 0 1-66.88-66.88l345.472-345.504L89.184 165.76a47.296 47.296 0 0 1 66.88-66.88l38.688 38.688-0.256 0.256 375.264 375.264" fill="currentColor"></path></svg></div></div> <!----> <div class="over-tip">到底了，再怎么滑也没有了 ^_^</div></article></main> <footer class="footer"><div class="copyright-container"><p><!---->
      developed by
      <!---->
      &amp; Powered by
      <!---->
      .
    </p> <p>Copyright © 2023. All Rights Reserved.</p></div></footer></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6a51abd1.js" defer></script><script src="/assets/js/4.43d8fca8.js" defer></script><script src="/assets/js/9.f69ac59a.js" defer></script>
  </body>
</html>
